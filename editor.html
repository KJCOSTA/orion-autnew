
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ORION — Editor do CORE</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<script src="assets/js/core.js?v=20260112-1606"></script>
</head>

<body class="bg-slate-900 text-slate-100 p-6">
<h1 class="text-3xl font-bold mb-1">ORION — Editor do CORE</h1>
<p class="text-slate-400 mb-6">Governança estratégica do projeto ORACULUM</p>

<div id="app" class="space-y-6"></div>

<button onclick="save()" class="bg-green-600 px-4 py-2 rounded">Salvar CORE</button>

<footer class="mt-8 text-xs text-slate-500">
ORION v3 — CORE 1.1 — 20260112-1606 UTC
</footer>

<script>
let CORE;

function render() {
  const app = document.getElementById("app");
  app.innerHTML = "";

  CORE.fases.forEach((f) => {
    const box = document.createElement("div");
    box.className = "bg-slate-800 p-4 rounded";

    box.innerHTML = `
      <h2 class="text-xl font-semibold mb-2">${f.nome}</h2>
      <p class="mb-2">${f.objetivo}</p>
      <span class="text-sm px-2 py-1 bg-green-700 rounded">${f.status}</span>
    `;

    f.subfases.forEach(sf => {
      const s = document.createElement("div");
      s.className = "mt-4 bg-slate-700 p-3 rounded";
      s.innerHTML = `<b>${sf.nome}</b><ul class="list-disc ml-6"></ul>`;
      const ul = s.querySelector("ul");
      sf.itens.forEach(i => {
        const li = document.createElement("li");
        li.textContent = i;
        ul.appendChild(li);
      });
      box.appendChild(s);
    });

    app.appendChild(box);
  });
}

async function save() {
  await saveCore(CORE);
}

loadCore().then(c => {
  CORE = c;
  render();
});
</script>
</body>
</html>
