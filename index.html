
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ORION — AutNew</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-white p-6">

<h1 class="text-4xl font-bold mb-1">ORION</h1>
<p class="text-slate-400 mb-6">Sistema de Gestão e Acompanhamento Geral — AutNew</p>

<div id="cards" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"></div>

<div class="bg-slate-800 p-6 rounded mb-8">
  <h2 class="text-xl font-semibold mb-4">Mapa 360° do Projeto</h2>
  <ul id="fases" class="space-y-2"></ul>
</div>

<div class="bg-slate-800 p-6 rounded">
  <h2 class="text-xl font-semibold mb-4">Último Registro</h2>
  <pre id="log" class="text-sm bg-slate-900 p-4 rounded"></pre>
</div>

<script>
const BASE = "https://raw.githubusercontent.com/KJCOSTA/orion-data/main";

async function load(path) {
  const r = await fetch(BASE + path);
  return r.json();
}

(async () => {
  const state = await load("/data/project_state.json");
  const fases = await load("/data/fases.json");
  const logs = await load("/logs/orion_logs.json");

  document.getElementById("cards").innerHTML = `
    <div class="bg-slate-800 p-4 rounded">Fase Atual<br><b>${state.fase_atual}</b></div>
    <div class="bg-slate-800 p-4 rounded">Progresso<br><b>${state.progresso_percentual}%</b></div>
    <div class="bg-slate-800 p-4 rounded">Status<br><b class="text-green-400">${state.status}</b></div>
    <div class="bg-slate-800 p-4 rounded">Próxima Ação<br><b>${state.proxima_acao}</b></div>
  `;

  document.getElementById("fases").innerHTML =
    fases.map(f => `<li>• <b>${f.nome}</b> — ${f.status}</li>`).join("");

  document.getElementById("log").textContent =
    JSON.stringify(logs[logs.length - 1], null, 2);
})();
</script>

</body>
</html>
