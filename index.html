
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ORION — AutNew</title>
<script src="./assets/js/core.js"></script>
<script src="./assets/libs/echarts.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-6">

<h1 class="text-4xl font-bold">ORION</h1>
<p class="text-slate-400 mb-6">Sistema de Gestão e Acompanhamento Geral — AutNew</p>

<div id="cards" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"></div>

<h2 class="text-xl font-semibold mb-2">Mapa 360°</h2>
<ul id="fases" class="mb-8"></ul>

<h2 class="text-xl font-semibold mb-2">Último Registro</h2>
<pre id="log"></pre>

<script>
(async () => {
  const state = await loadJSON("state");
  const fases = await loadJSON("fases");
  const logs = await loadJSON("logs");

  document.getElementById("cards").innerHTML = `
    <div class="bg-slate-800 p-4 rounded">Fase<br><b>${state.fase_atual}</b></div>
    <div class="bg-slate-800 p-4 rounded">Progresso<br><b>${state.progresso_percentual}%</b></div>
    <div class="bg-slate-800 p-4 rounded">Status<br><b>${state.status}</b></div>
    <div class="bg-slate-800 p-4 rounded">Próxima ação<br><b>${state.proxima_acao}</b></div>
  `;

  document.getElementById("fases").innerHTML =
    fases.map(f => `<li>• ${f.fase} — ${f.status}</li>`).join("");

  document.getElementById("log").textContent =
    JSON.stringify(logs[logs.length - 1], null, 2);
})();
</script>

</body>
</html>
